#!/usr/bin/python
"""
This is a script for SPSE Lect 4.2
Creating a mechanism to receive the data and parse
Challenges in HTML Parsing: non adherence to standards and most websites have broken HTML documents
=> Use BeautifulSoup (one of the best parsers on the web)
"""

from bs4 import BeautifulSoup
import urllib

html = urllib.urlopen('http://www.securitytube.net/video/3000')
bt = BeautifulSoup(html.read(), "lxml")   

### Let's print out the title of the website
#print bt.title  #<title>Defcon 19  - The Art Of Trolling</title>
#print bt.title.string   # Defcon 19  - The Art Of Trolling (unicode string)

### Print out meta -> want to get all the meta types in the source code
#allMetaTags = bt.find_all('meta')
#print allMetaTags       #[<meta content="6xTaa3p8o4OQd0L-iD2eRvaDjJR8rxUdSyZ1Etm5LMI" name="google-site-verification"/>, <meta content="text/html;charset=unicode-escape" http-equiv="Content-Type"/>, <meta content=" " name="keywords"/>, <meta content=" " name="description"/>, <meta content="no" name="apple-mobile-web-app-capable"/>, <meta content="black" name="apple-mobile-web-app-status-bar-style"/>, <meta content="width=device-width,initial-scale=0.69,user-scalable=yes,maximum-scale=1.00" name="viewport"/>]] => you can access them as a dictionary value
#
#print allMetaTags[0]['name']

### Finding all links => search for all <a> tags
allLinks = bt.find_all('a')
#print allLinks[0]['href']

for link in allLinks:
    print link['href']

print "======================================="

### To get texts
print bt.get_text() # returns all text in the source code
